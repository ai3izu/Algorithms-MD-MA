package Aproksymacyjne;

import java.util.Random;

public class KO_MonteCarlo {
    static final int KOSMONAUCI = 5;
    static final int SPEC = 4;
    static int[][] daneKosmonautow = {
            {1, 0, 0, 1},
            {0, 1, 0, 1},
            {0, 1, 1, 0},
            {1, 1, 0, 0},
            {0, 0, 1, 1}};

    public static void main(String[] args) {

        int liczbaK = Integer.MAX_VALUE;
        String najlepszeRozwiazanie = " ";

        for (int i = 0; i < 100; i++) {

            int[] kolejnosc = generujKolejnosc(KOSMONAUCI);
            int[] spec = new int[SPEC];

            int liczbaWybranych = 0;
            String biezaceRozwiazanie = " ";

            for (int j = 0; j < KOSMONAUCI; j++) {
                int index = kolejnosc[j];

                liczbaWybranych++;
                biezaceRozwiazanie += "k" + (index + 1) + " ";


                for (int k = 0; k < SPEC; k++) {
                    spec[k] += daneKosmonautow[index][k];
                }

                boolean czyPokryte = true;
                for (int k = 0; k < SPEC; k++) {
                    if (spec[k] == 0) {
                        czyPokryte = false;
                        break;
                    }

                }
                if (czyPokryte) {
                    break;
                }
            }
            if (liczbaWybranych < liczbaK) {
                najlepszeRozwiazanie = biezaceRozwiazanie;
                liczbaK = liczbaWybranych;
            }
        }
        System.out.println("Liczba zalogi " + liczbaK);
        System.out.println("Kosmonauci " + najlepszeRozwiazanie);
    }

    private static int[] generujKolejnosc(int n) {
        Random random = new Random();
        int[] losowaKolejnosc = new int[n];
        for (int i = 0; i < n; i++) losowaKolejnosc[i] = i;

        for (int i = 0; i < n; i++) {
            int randomIndex = random.nextInt(n);
            if (randomIndex != i) {
                int tmp = losowaKolejnosc[i];
                losowaKolejnosc[i] = losowaKolejnosc[randomIndex];
                losowaKolejnosc[randomIndex] = tmp;
            }
        }
        return losowaKolejnosc;
    }

}
